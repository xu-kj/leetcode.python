from typing import List
import heapq


class Solution:
    def maxEvents(self, events: List[List[int]]) -> int:
        sorted_events = sorted(events, key=lambda event: event[0])

        day = 0
        attended = 0
        started = []
        while sorted_events or started:
            day += 1
            while sorted_events and sorted_events[0][0] <= day:
                _, end = sorted_events.pop(0)
                heapq.heappush(started, end)

            while started:
                end = heapq.heappop(started)
                if end >= day:
                    attended += 1
                    break
        return attended


if __name__ == "__main__":
    test_cases = [
        (
            [[1, 2], [2, 3], [3, 4]],
            3
        ),
        (
            [[1, 2], [2, 3], [3, 4], [1, 2]],
            4
        ),
        (
            [[1, 4], [4, 4], [2, 2], [3, 4], [1, 1]],
            4
        ),
        (
            [[543, 718], [178, 931], [476, 880], [604, 1359], [235, 281], [416, 649], [110, 204], [281, 1045], [887, 1470], [832, 892], [359, 1238], [610, 899], [594, 624], [332, 683], [563, 1493], [905, 1791], [122, 687], [791, 1297], [947, 1129], [873, 1155], [386, 1042], [212, 409], [911, 1066], [409, 744], [967, 1892], [111, 194], [825, 1167], [817, 1750], [985, 1902], [392, 1213], [472, 1142], [766, 1350], [617, 1079], [591, 1446], [750, 986], [305, 739], [970, 1317], [876, 1871], [338, 1107], [13, 790], [372, 1170], [830, 1525], [775, 1485], [571, 1296], [484, 880], [708, 1052], [845, 1022], [150, 407], [542, 955], [492, 1048], [651, 1391], [630, 1052], [346, 1276], [368, 381], [661, 1549], [332, 722], [925, 1812], [9, 144], [71, 544], [701, 1414], [37, 898], [927, 1870], [449, 1170], [146, 430], [854, 1807], [165, 433], [160, 696], [392, 1073], [179, 419], [127, 613], [563, 1247], [999, 1445], [961, 1340], [666, 1137], [56, 509], [791, 934], [661, 875], [704, 1240], [620, 1047], [563, 984], [710, 1426], [186, 356], [493, 1454], [550, 1255], [704, 1538], [512, 839], [266, 364], [266, 774], [403, 785], [994, 1124], [241, 763], [165, 366], [347, 365], [970, 1644], [858, 1853], [563, 826], [254, 839], [33, 362], [910, 1406], [998, 1109], [826, 1285], [671, 692], [742, 1296], [669, 1322], [705, 1467], [680, 1376], [72, 746], [246, 635], [240, 470], [322, 694], [30, 43], [442, 1339], [158, 690], [611, 1225], [908, 1358], [352, 608], [172, 487], [841, 1275], [992, 1889], [118, 127], [927, 1673], [240, 1018], [333, 1305], [652, 1587], [115, 1079], [363, 1243], [804, 1557], [320, 393], [857, 1134], [278, 663], [537, 830], [40, 393], [847, 1221], [867, 1445], [448, 587], [142, 888], [257, 1118], [379, 437], [932, 1238], [850, 1808], [434, 533], [84, 175], [825, 1543], [510, 767], [603, 1391], [723, 766], [266, 270], [912, 1191], [422, 1204], [946, 1343], [827, 1211], [186, 1063], [41, 817], [445, 1033], [837, 986], [563, 1507], [577, 1573], [391, 1226], [513, 868], [945, 1191], [75, 193], [661, 1488], [425, 1287], [640, 1583], [497, 516], [913, 1801], [421, 479], [200, 1153], [723, 773], [552, 1317], [154, 305], [929, 1016], [290, 421], [911, 1387], [998, 1980], [491, 1024], [621, 1041], [674, 1205], [655, 877], [226, 1108], [574, 1308], [928, 1476], [524, 595], [195, 361], [858, 1678], [730, 733], [844, 1360], [444, 1431], [394, 677], [211, 772], [876, 1586], [908, 1899], [440, 830], [432, 670], [672, 1416], [985, 1445], [36, 193], [119, 397], [359, 462], [418, 851], [319, 943], [891, 1598], [913, 1270], [855, 1824], [138, 326], [88, 928], [155, 294], [262, 519], [256, 808], [418, 1364], [778, 1297], [979, 1354], [773, 1309], [914, 1181], [182, 1098], [936, 1734], [707, 1411], [414, 454], [101, 1016], [205, 1000], [325, 559], [426, 1366], [729, 1352], [439, 1312], [560, 980], [931, 1130], [884, 1388], [865, 870], [299, 809], [818, 1655], [404, 1209], [756, 1375], [153, 1009], [152, 778], [805, 873], [859, 1269], [541, 1215], [923, 1862], [805, 1629], [223, 1007], [484, 1268], [306, 339], [279, 575], [372, 937], [428, 511], [500, 1373], [904, 1299], [978, 1598], [334, 869], [275, 583], [308, 520], [205, 506], [282, 478], [551, 1228], [873, 1486], [682, 955], [126, 567], [641, 773], [614, 1614], [714, 1187], [487, 1018], [638, 771], [133, 476], [484, 849], [411, 933], [939, 1351], [701, 1357], [829, 1178], [748, 1283], [730, 1415], [447, 911], [54, 502], [157, 1045], [735, 1030], [350, 733], [237, 347], [994, 1550], [278, 841], [950, 1558], [794, 1294], [856, 1507], [226, 1066], [752, 1374], [315, 1211], [311, 380], [211, 993], [399, 914], [778, 1030], [806, 862], [839, 1700], [237, 1227], [258, 525], [109, 527], [213, 1055], [48, 815], [118, 882], [856, 1396], [479, 647], [816, 1134], [940, 1189], [987, 1448], [310, 960], [776, 1063], [121, 979], [787, 1715], [221, 1046], [206, 285], [223, 272], [913, 1187], [931, 1597], [557, 1119], [261, 963], [657, 864], [867, 1558], [60, 314], [961, 1869], [72, 879], [601, 1169], [428, 535], [855, 1467], [932, 1703], [620, 977], [747, 1165], [38, 102], [523, 1088], [642, 1537], [296, 426], [579, 1364], [120, 303], [446, 812], [205, 593], [876, 1466], [506, 678], [154, 1097], [146, 913], [525, 1294], [549, 1255], [747, 1514], [151, 517], [519, 846], [367, 1095], [43, 690], [34, 279], [778, 1744], [589, 1192], [170, 909], [458, 461], [181, 1112], [597, 899], [119, 454], [832, 856], [122, 498], [747, 840], [286, 662], [314, 1057], [866, 1491], [256, 358], [58, 337], [984, 1439], [871, 875], [90, 423], [40, 755], [475, 1296], [147, 157], [116, 909], [61, 152], [232, 1126], [680, 1181], [992, 1658], [92, 154], [914, 1783], [867, 906], [651, 1382], [699, 1137], [370, 512], [432, 720], [88, 390], [192, 828], [840, 1554], [201, 480], [637, 1517], [575, 1408], [911, 1405], [904, 1104], [91, 819], [44, 1026], [111, 344], [627, 1002], [210, 844], [41, 837], [811, 1426], [787, 1011], [157, 271], [863, 1729], [729, 1294], [874, 964], [905, 1341], [111, 1103], [115, 426], [499, 541], [131, 555], [356, 443], [401, 1376], [73, 230], [523, 871], [496, 777], [856, 886], [826, 975], [518, 1413], [540, 1371], [154, 624], [131, 1014], [931, 1105], [809, 1348], [817, 1150], [605, 1249], [796, 1688], [368, 1291], [69, 831], [219, 379], [804, 810], [345, 1112], [318, 1160], [74, 420], [305, 1020], [653, 776], [856, 1587], [610, 996], [75, 455], [959, 1503], [786, 804], [581, 839], [883, 1628], [833, 978], [413, 1333], [153, 228], [453, 789], [396, 1158], [771, 854], [584, 840], [425, 567], [626, 1508], [669, 1509], [791, 1196], [392, 1365], [156, 473], [269, 659], [582, 1071], [673, 750], [48, 806], [709, 1566], [758, 1505], [665, 1302], [210, 980], [901, 1449], [989, 1090], [272, 1177], [554, 1009], [304, 726], [522, 978], [544, 691], [117, 579], [26, 342], [873, 1565], [431, 1372], [778, 1647], [972, 1652], [947, 1343], [370, 390], [881, 1599], [155, 574], [231, 513], [550, 558], [898, 1070], [676, 1198], [364, 1359], [834, 1155], [687, 1342], [810, 857], [15, 668], [561, 1269], [643, 1620], [221, 866], [491, 1384], [609, 1120], [374, 571], [355, 1305], [129, 455], [80, 844], [994, 1294], [244, 1020], [688, 1115], [927, 1074], [563, 688], [112, 827], [550, 722], [287, 588], [163, 965], [705, 1380], [875, 908], [61, 424], [159, 1117], [673, 792], [636, 1383], [906, 1030], [602, 836], [77, 800], [969, 1528], [225, 514], [496, 532], [208, 1188], [675, 770], [658, 900], [942, 1139], [596, 630], [843, 1540], [334, 577], [548, 1236], [251, 980], [358, 441], [157, 882], [940, 1541], [967, 1167], [280, 1031], [228, 683], [542, 1092], [639, 1204], [34, 468], [158, 546], [127, 251], [666, 1162], [943, 1606], [154, 1127], [268, 553], [957, 1859], [311, 503], [501, 1037], [584, 1416], [371, 465], [393, 737], [644, 1281], [761, 939], [139, 617], [196, 952], [704, 1332], [993, 1095], [980, 1818], [49, 567], [16, 444], [103, 279], [698, 1523], [556, 966], [800, 1381], [650, 1048], [488, 981], [438, 758], [126, 677], [627, 1368], [244, 850], [235, 264], [120, 694], [215, 1066], [313, 787], [810, 1127], [991, 1002], [652, 1596], [283, 1074], [310, 397], [988, 990], [363, 988], [246, 935], [253, 1151], [191, 254], [644, 691], [741, 1073], [855, 1019], [669, 1623], [79, 1058], [516, 1442], [863, 1682], [615, 1180], [822, 1392], [397, 555], [323, 1079], [426, 870], [827, 1533], [802, 1207], [917, 1117], [802, 1080], [522, 1279], [434, 640], [550, 1003], [924, 1274], [450, 532], [769, 1357], [757, 872], [667, 1110], [626, 832], [583, 1503], [308, 452], [699, 991], [556, 872], [543, 1011], [151, 515], [412, 656], [165, 274], [451, 901], [849, 1414], [856, 1593], [513, 1144], [368, 650], [979, 1964], [954, 1853], [251, 1109], [630, 1443], [480, 1039], [104, 649], [375, 870], [753, 831], [963, 1769], [352, 825], [500, 903], [731, 1568], [203, 555], [342, 914], [831, 1299], [503, 1421], [562, 934], [793, 1112], [489, 867], [794, 1525], [610, 832], [883, 1789], [380, 1200], [707, 1604], [477, 661], [911, 1597], [527, 892], [716, 1116], [422, 873], [822, 1449], [311, 768], [665, 1118], [288, 483], [310, 1270], [551, 848], [725, 796], [687, 1307], [894, 1152], [853, 1809], [723, 782], [385, 836], [760, 830], [795, 1160], [139, 1092], [167, 1141], [126, 640], [122, 531], [538, 1381], [839, 1561], [282, 993], [705, 1473], [742, 1062], [652, 762], [841, 1609], [221, 300], [30, 514], [988, 1434], [106, 907], [900, 1620], [629, 1045], [442, 914], [362, 385], [799, 1719], [44, 620], [923, 1424], [288, 985], [216, 432], [502, 1168], [783, 886], [422, 1065], [523, 1500], [177, 419], [241, 1104], [785, 888], [171, 741], [828, 1296], [959, 1096], [253, 277], [475, 486], [38, 991], [790, 1453], [928, 1528], [749, 754], [441, 815], [669, 769], [995, 1964], [120, 537], [213, 698], [224, 619], [170, 661], [773, 1382], [473, 1015], [107, 798], [750, 1470], [623, 1185], [464, 1148], [738, 1138], [619, 868], [224, 320], [961, 1583], [566, 622], [5, 623], [495, 1323], [717, 1515], [320, 514], [120, 980], [563, 1308], [304, 453], [967, 1233], [141, 445], [110, 622], [465, 1425], [782, 901], [695, 1172], [189, 1163], [777, 1706], [462, 1033], [890, 1765], [275, 879], [474, 1149], [656, 1050], [492, 852], [760, 1385], [281, 763], [248, 1134], [2, 907], [234, 390], [948, 1525], [797, 831], [962, 1372], [13, 957], [935, 1212], [656, 1604], [506, 1164], [568, 1489], [479, 1427], [27, 473], [593, 763], [75, 616], [511, 620], [295, 1138], [345, 617], [752, 1116], [775, 1062], [136, 923], [508, 1041], [712, 1693], [600, 1482], [869, 1702], [821, 893], [56, 784], [134, 689], [414, 1143], [111, 507], [3, 100], [659, 1392], [646, 1027], [916, 1089], [66, 899], [753, 866], [714, 1290], [939, 1402], [359, 1344], [753, 1604], [403, 926], [436, 830], [422, 1129], [464, 1015], [109, 805], [156, 930], [565, 991], [232, 1080], [649, 1107], [28, 224], [268, 546], [43, 661], [823, 1460], [726, 1608], [797, 1448], [955, 1247], [569, 1069], [288, 1177], [922, 1434], [13, 31], [893, 1663], [362, 501], [271, 582], [331, 1282], [3, 618], [307, 910], [727, 1599], [904, 1097], [378, 1225], [280, 799], [75, 968], [962, 1762], [514, 576], [539, 854], [473, 891], [762, 887], [696, 904], [8, 896], [552, 686], [372, 440], [547, 1024], [344, 1006], [433, 600], [663, 1500], [189, 1001], [930, 1260], [351, 550], [2, 321], [191, 807], [291, 985], [488, 1304], [839, 971], [820, 1255], [97, 486], [8, 102], [208, 1084], [80, 1079], [255, 337], [268, 1184], [70, 938], [674, 1357], [172, 637], [566, 837], [923, 1175], [778, 1540], [773, 880], [288, 1206], [668, 768], [999, 1078], [112, 323], [788, 1055], [883, 1315], [212, 1015], [569, 1566], [591, 724], [733, 1487], [272, 798], [474, 698], [939, 1707], [623, 1007], [788, 1515], [637, 1213], [845, 1649], [46, 927], [765, 972], [507, 888], [506, 1484], [513, 1090], [886, 1559], [450, 705], [714, 860], [244, 940], [326, 391], [574, 1321], [870, 1169], [408, 627], [429, 1105], [456, 1005], [537, 1147], [314, 1247], [17, 669], [837, 1476], [957, 1248], [259, 551], [730, 871], [170, 724], [999, 1363], [962, 1029], [322, 497], [438, 1227], [207, 1103], [422, 1019], [102, 485], [151, 951], [678, 867], [149, 164], [693, 1475], [969, 1757], [701, 837], [93, 677], [580, 1038], [470, 1428], [955, 1370], [207, 270], [289, 1261], [166, 634], [228, 1162], [73, 106], [542, 1359], [523, 1443], [62, 325], [993, 1105], [532, 1483], [125, 701], [790, 1331], [43, 190], [290, 484], [953, 1635], [670, 752], [448, 1090], [352, 597], [779, 970], [674, 797], [223, 398], [360, 1044], [280, 877], [281, 1247], [875, 1065], [810, 1534], [910, 1875], [144, 356], [147, 766], [25, 361], [643, 1562], [567, 826], [383, 912]],
            931
        ),
    ]

    sol = Solution()
    for t in test_cases:
        res = sol.maxEvents(t[0])
        if res != t[1]:
            sol.maxEvents(t[0])
